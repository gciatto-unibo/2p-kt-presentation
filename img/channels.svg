<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="315px" preserveAspectRatio="none" style="width:469px;height:315px;" version="1.1" viewBox="0 0 469 315" width="469px" zoomAndPan="magnify"><defs><filter height="300%" id="fqd5er8q2w8l9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[085076096658226fe7d3ac7a26d9b629]
class Listener--><rect codeLine="1" fill="#FEFECE" filter="url(#fqd5er8q2w8l9)" height="66.7422" id="Listener" style="stroke:#A80036;stroke-width:1.5;" width="135" x="7" y="202"/><ellipse cx="35.05" cy="220.9688" fill="#3495EB" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M35.4875,218.5 L37.3313,218.5 L37.3313,220.0938 C37.3313,220.4844 37.3625,220.6563 37.4563,220.7969 C37.6125,221.0469 37.8938,221.2031 38.1906,221.2031 C38.4563,221.2031 38.7063,221.0781 38.8781,220.8594 C39.0188,220.6875 39.0344,220.5625 39.0344,220.0938 L39.0344,216.8125 L30.2687,216.8125 L30.2687,220.0938 C30.2687,220.4844 30.3,220.6563 30.3781,220.7969 C30.5344,221.0625 30.8312,221.2031 31.1125,221.2031 C31.3937,221.2031 31.6437,221.0781 31.8156,220.8594 C31.925,220.6875 31.9562,220.5469 31.9562,220.0938 L31.9562,218.5 L33.7844,218.5 L33.7844,225.0156 L32.675,225.0156 C32.2375,225.0156 32.1125,225.0313 31.9562,225.1406 C31.7062,225.2969 31.55,225.5781 31.55,225.875 C31.55,226.125 31.6906,226.3906 31.9094,226.5469 C32.0656,226.6719 32.2844,226.7188 32.675,226.7188 L36.6125,226.7188 C36.9406,226.7188 37.2063,226.6719 37.3156,226.5938 C37.5813,226.4531 37.7219,226.1563 37.7219,225.875 C37.7219,225.5938 37.5969,225.3438 37.3625,225.1719 C37.2063,225.0469 37.0656,225.0156 36.6125,225.0156 L35.4875,225.0156 L35.4875,218.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="67" x="49.95" y="218.1387">«typealias»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="48" x="59.45" y="232.1074">Listener</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="136" y="199"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="137" y="211.1387">T</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="141" y1="239.9375" y2="239.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="141" y1="247.9375" y2="247.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="61" x="13" y="262.1479">alias for:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="78" y="262.1479">(T) -&gt; Unit</text><!--MD5=[1e4e6ac1845d89d680410515caa0c0ac]
class Channel--><rect codeLine="5" fill="#FEFECE" filter="url(#fqd5er8q2w8l9)" height="132.8281" id="Channel" style="stroke:#A80036;stroke-width:1.5;" width="252" x="177.5" y="169"/><ellipse cx="269.25" cy="185" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M270.2031,181.7813 L271.9219,181.7813 C272.3125,181.7813 272.5,181.75 272.625,181.6719 C272.8906,181.5156 273.0313,181.2344 273.0313,180.9375 C273.0313,180.6719 272.9219,180.4063 272.6875,180.2344 C272.5156,180.125 272.375,180.0938 271.9219,180.0938 L266.7813,180.0938 C266.3438,180.0938 266.2188,180.1094 266.0625,180.2031 C265.8125,180.3594 265.6563,180.6563 265.6563,180.9375 C265.6563,181.2188 265.7969,181.4688 266.0156,181.6406 C266.1719,181.75 266.3594,181.7813 266.7813,181.7813 L268.5,181.7813 L268.5,188.2969 L266.7813,188.2969 C266.3438,188.2969 266.2188,188.3125 266.0625,188.4219 C265.8125,188.5781 265.6563,188.8594 265.6563,189.1563 C265.6563,189.4063 265.7969,189.6719 266.0156,189.8281 C266.1719,189.9531 266.375,190 266.7813,190 L271.9219,190 C272.6719,190 273.0313,189.7188 273.0313,189.1563 C273.0313,188.875 272.9219,188.625 272.6875,188.4531 C272.5156,188.3281 272.375,188.2969 271.9219,188.2969 L270.2031,188.2969 L270.2031,181.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="289.75" y="189.1543">Channel</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="423.5" y="166"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="424.5" y="178.1387">T</text><line style="stroke:#A80036;stroke-width:1.5;" x1="178.5" x2="428.5" y1="201" y2="201"/><ellipse cx="188.5" cy="212" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="197.5" y="215.2104">streamTerm: Struct</text><ellipse cx="188.5" cy="224.8047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="197.5" y="228.0151">isClosed: Boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="178.5" x2="428.5" y1="234.6094" y2="234.6094"/><ellipse cx="188.5" cy="245.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="197.5" y="248.8198">addListener(listener: Listener&lt;T?&gt;)</text><ellipse cx="188.5" cy="258.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="226" x="197.5" y="261.6245">removeListener(listener: Listener&lt;T?&gt;)</text><ellipse cx="188.5" cy="271.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="197.5" y="274.4292">clearListeners()</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="178.5" x2="428.5" y1="281.0234" y2="281.0234"/><ellipse cx="188.5" cy="292.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="197.5" y="295.2339">close()</text><!--MD5=[f7baa1082940d3ce43d405e81b39ac4c]
class InputChannel--><rect codeLine="16" fill="#FEFECE" filter="url(#fqd5er8q2w8l9)" height="99.2188" id="InputChannel" style="stroke:#A80036;stroke-width:1.5;" width="132" x="152.5" y="10"/><ellipse cx="170.65" cy="26" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M171.6031,22.7813 L173.3219,22.7813 C173.7125,22.7813 173.9,22.75 174.025,22.6719 C174.2906,22.5156 174.4313,22.2344 174.4313,21.9375 C174.4313,21.6719 174.3219,21.4063 174.0875,21.2344 C173.9156,21.125 173.775,21.0938 173.3219,21.0938 L168.1813,21.0938 C167.7438,21.0938 167.6188,21.1094 167.4625,21.2031 C167.2125,21.3594 167.0563,21.6563 167.0563,21.9375 C167.0563,22.2188 167.1969,22.4688 167.4156,22.6406 C167.5719,22.75 167.7594,22.7813 168.1813,22.7813 L169.9,22.7813 L169.9,29.2969 L168.1813,29.2969 C167.7438,29.2969 167.6188,29.3125 167.4625,29.4219 C167.2125,29.5781 167.0563,29.8594 167.0563,30.1563 C167.0563,30.4063 167.1969,30.6719 167.4156,30.8281 C167.5719,30.9531 167.775,31 168.1813,31 L173.3219,31 C174.0719,31 174.4313,30.7188 174.4313,30.1563 C174.4313,29.875 174.3219,29.625 174.0875,29.4531 C173.9156,29.3281 173.775,29.2969 173.3219,29.2969 L171.6031,29.2969 L171.6031,22.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="82" x="185.35" y="30.1543">InputChannel</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="278.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="279.5" y="19.1387">T</text><line style="stroke:#A80036;stroke-width:1.5;" x1="153.5" x2="283.5" y1="42" y2="42"/><ellipse cx="163.5" cy="53" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="172.5" y="56.2104">isOver: Boolean</text><ellipse cx="163.5" cy="65.8047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="172.5" y="69.0151">available: Boolean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="153.5" x2="283.5" y1="75.6094" y2="75.6094"/><ellipse cx="163.5" cy="86.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="172.5" y="89.8198">read(): T?</text><ellipse cx="163.5" cy="99.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="172.5" y="102.6245">peek(): T?</text><!--MD5=[65a4a8a9711b185e0a80cb86d89d8ef9]
class OutputChannel--><rect codeLine="24" fill="#FEFECE" filter="url(#fqd5er8q2w8l9)" height="73.6094" id="OutputChannel" style="stroke:#A80036;stroke-width:1.5;" width="135" x="320" y="22.5"/><ellipse cx="335" cy="38.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M335.9531,35.2813 L337.6719,35.2813 C338.0625,35.2813 338.25,35.25 338.375,35.1719 C338.6406,35.0156 338.7813,34.7344 338.7813,34.4375 C338.7813,34.1719 338.6719,33.9063 338.4375,33.7344 C338.2656,33.625 338.125,33.5938 337.6719,33.5938 L332.5313,33.5938 C332.0938,33.5938 331.9688,33.6094 331.8125,33.7031 C331.5625,33.8594 331.4063,34.1563 331.4063,34.4375 C331.4063,34.7188 331.5469,34.9688 331.7656,35.1406 C331.9219,35.25 332.1094,35.2813 332.5313,35.2813 L334.25,35.2813 L334.25,41.7969 L332.5313,41.7969 C332.0938,41.7969 331.9688,41.8125 331.8125,41.9219 C331.5625,42.0781 331.4063,42.3594 331.4063,42.6563 C331.4063,42.9063 331.5469,43.1719 331.7656,43.3281 C331.9219,43.4531 332.125,43.5 332.5313,43.5 L337.6719,43.5 C338.4219,43.5 338.7813,43.2188 338.7813,42.6563 C338.7813,42.375 338.6719,42.125 338.4375,41.9531 C338.2656,41.8281 338.125,41.7969 337.6719,41.7969 L335.9531,41.7969 L335.9531,35.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="92" x="349" y="42.6543">OutputChannel</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="449" y="19.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="450" y="31.6387">T</text><line style="stroke:#A80036;stroke-width:1.5;" x1="321" x2="454" y1="54.5" y2="54.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="321" x2="454" y1="62.5" y2="62.5"/><ellipse cx="331" cy="73.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="340" y="76.7104">write(T)</text><ellipse cx="331" cy="86.3047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="340" y="89.5151">flush()</text><!--MD5=[f5d54dc51fd6ade8227c4f6eccb87f85]
link Listener to Channel--><path codeLine="29" d="M142.037,235.5 C149.395,235.5 156.754,235.5 164.112,235.5 " fill="none" id="Listener-to-Channel" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="177.357,235.5,171.357,231.5,165.357,235.5,171.357,239.5,177.357,235.5" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="149.916" y="231.7679">N</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="161.4264" y="232.1191">1</text><!--MD5=[6d9fb721530fa5a5a652455aa24f1d2e]
link InputChannel to Channel--><path codeLine="30" d="M242.403,109.432 C248.651,122.222 255.567,136.379 262.433,150.434 " fill="none" id="InputChannel-to-Channel" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="268.881,147.686,271.37,168.729,256.302,153.831,268.881,147.686" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a2f9bcabbe9ec688eba75489fc0866cd]
link OutputChannel to Channel--><path codeLine="31" d="M370.095,96.553 C362.448,112.394 353.12,131.715 343.896,150.822 " fill="none" id="OutputChannel-to-Channel" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="350.142,153.987,335.143,168.954,337.534,147.9,350.142,153.987" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f46e11893656da46b95ce81f43fec0dc]
@startuml
interface Listener<T> << (T,#3495eb) typealias >>  {
  **alias for:** (T) -> Unit
}

interface Channel<T> {
    + streamTerm: Struct
    + isClosed: Boolean
    - -
    + addListener(listener: Listener<T?>)
    + removeListener(listener: Listener<T?>)
    + clearListeners()
    ..
    + close()
}

interface InputChannel<T> {
    + isOver: Boolean
    + available: Boolean
    - -
    + read(): T?
    + peek(): T?
}

interface OutputChannel<T> {
    + write(T)
    + flush()
}

Channel "1" *-left- "N" Listener
InputChannel - -|> Channel
OutputChannel - -|> Channel
@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>