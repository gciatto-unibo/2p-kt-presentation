<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="498px" preserveAspectRatio="none" style="width:622px;height:498px;" version="1.1" viewBox="0 0 622 498" width="622px" zoomAndPan="magnify"><defs><filter height="300%" id="f5ydpcw2dc46u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[32b1aadfbe1619e4a766be6bc8921f15]
class Solve--><rect codeLine="1" fill="#FEFECE" filter="url(#f5ydpcw2dc46u)" height="48" id="Solve" style="stroke:#A80036;stroke-width:1.5;" width="65" x="320.5" y="436"/><ellipse cx="335.5" cy="452" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M335.6094,447.3438 L334.4531,452.4219 L336.7813,452.4219 L335.6094,447.3438 Z M334.125,445.1094 L337.1094,445.1094 L340.4688,457.5 L338.0156,457.5 L337.25,454.4375 L333.9688,454.4375 L333.2188,457.5 L330.7813,457.5 L334.125,445.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="33" x="349.5" y="456.1543">Solve</text><line style="stroke:#A80036;stroke-width:1.5;" x1="321.5" x2="384.5" y1="468" y2="468"/><line style="stroke:#A80036;stroke-width:1.5;" x1="321.5" x2="384.5" y1="476" y2="476"/><!--MD5=[0851f84a889f989e7bb0bebc385d0f09]
class Request--><rect codeLine="3" fill="#FEFECE" filter="url(#f5ydpcw2dc46u)" height="158.4375" id="Request" style="stroke:#A80036;stroke-width:1.5;" width="374" x="7" y="218"/><ellipse cx="96.25" cy="234" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M99.2188,239.6406 Q98.6406,239.9375 98,240.0781 Q97.3594,240.2344 96.6563,240.2344 Q94.1563,240.2344 92.8281,238.5938 Q91.5156,236.9375 91.5156,233.8125 Q91.5156,230.6875 92.8281,229.0313 Q94.1563,227.375 96.6563,227.375 Q97.3594,227.375 98,227.5313 Q98.6563,227.6875 99.2188,227.9844 L99.2188,230.7031 Q98.5938,230.125 98,229.8594 Q97.4063,229.5781 96.7813,229.5781 Q95.4375,229.5781 94.75,230.6563 Q94.0625,231.7188 94.0625,233.8125 Q94.0625,235.9063 94.75,236.9844 Q95.4375,238.0469 96.7813,238.0469 Q97.4063,238.0469 98,237.7813 Q98.5938,237.5 99.2188,236.9219 L99.2188,239.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="116.75" y="238.1543">Request</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="133" x="251" y="215"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="131" x="252" y="227.1387">C : ExecutionContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="380" y1="250" y2="250"/><ellipse cx="18" cy="261" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="27" y="264.2104">signature: Signature</text><ellipse cx="18" cy="273.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="27" y="277.0151">arguments: List&lt;Term&gt;</text><ellipse cx="18" cy="286.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="27" y="289.8198">context: C</text><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="380" y1="296.4141" y2="296.4141"/><ellipse cx="18" cy="307.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="27" y="310.6245">replyWith(Solution): Response</text><ellipse cx="18" cy="320.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="348" x="27" y="323.4292">replyWith(Solution, **SideEffectsBuilder.() -&gt; Unit): Response</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="8" x2="380" y1="330.0234" y2="330.0234"/><ellipse cx="18" cy="341.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="27" y="344.2339">replySuccess(...): Response</text><ellipse cx="18" cy="353.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="27" y="357.0386">replyFail(...): Response</text><ellipse cx="18" cy="366.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="27" y="369.8433">replyException(...): Response</text><!--MD5=[62ba8ad8b61caf20139235a169a8c31d]
class Response--><rect codeLine="18" fill="#FEFECE" filter="url(#f5ydpcw2dc46u)" height="73.6094" id="Response" style="stroke:#A80036;stroke-width:1.5;" width="192" x="416" y="260"/><ellipse cx="476.75" cy="276" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M479.7188,281.6406 Q479.1406,281.9375 478.5,282.0781 Q477.8594,282.2344 477.1563,282.2344 Q474.6563,282.2344 473.3281,280.5938 Q472.0156,278.9375 472.0156,275.8125 Q472.0156,272.6875 473.3281,271.0313 Q474.6563,269.375 477.1563,269.375 Q477.8594,269.375 478.5,269.5313 Q479.1563,269.6875 479.7188,269.9844 L479.7188,272.7031 Q479.0938,272.125 478.5,271.8594 Q477.9063,271.5781 477.2813,271.5781 Q475.9375,271.5781 475.25,272.6563 Q474.5625,273.7188 474.5625,275.8125 Q474.5625,277.9063 475.25,278.9844 Q475.9375,280.0469 477.2813,280.0469 Q477.9063,280.0469 478.5,279.7813 Q479.0938,279.5 479.7188,278.9219 L479.7188,281.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="497.25" y="280.1543">Response</text><line style="stroke:#A80036;stroke-width:1.5;" x1="417" x2="607" y1="292" y2="292"/><ellipse cx="427" cy="303" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="436" y="306.2104">solution: Solution</text><ellipse cx="427" cy="315.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="436" y="319.0151">sideEffects: List&lt;SideEffect&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="417" x2="607" y1="325.6094" y2="325.6094"/><!--MD5=[204a995c784cbe6b3a7450752a2139a2]
class Primitive--><rect codeLine="25" fill="#FEFECE" filter="url(#f5ydpcw2dc46u)" height="66.7422" id="Primitive" style="stroke:#A80036;stroke-width:1.5;" width="303" x="201.5" y="91"/><ellipse cx="248.25" cy="109.9688" fill="#3495EB" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M249.0938,116.7188 L246.6406,116.7188 L246.6406,106.4688 L243.5,106.4688 L243.5,104.3281 L252.2344,104.3281 L252.2344,106.4688 L249.0938,106.4688 L249.0938,116.7188 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70" x="266.75" y="107.1387">«typealias»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="51" x="276.25" y="121.1074">Primitive</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="133" x="374.5" y="88"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="131" x="375.5" y="100.1387">C : ExecutionContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="202.5" x2="503.5" y1="128.9375" y2="128.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="202.5" x2="503.5" y1="136.9375" y2="136.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="57" x="207.5" y="151.1479">alias for:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="268.5" y="151.1479">(Request&lt;C&gt;) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="55" x="369.5" y="151.1479">Sequence</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="424.5" y="151.1479">&lt;Response&gt;</text><path d="M143,6 L143,31.1328 A0,0 0 0 0 143,31.1328 L349,31.1328 L353,90.62 L357,31.1328 L563,31.1328 A0,0 0 0 0 563,31.1328 L563,16 L553,6 L143,6 A0,0 0 0 0 143,6 " fill="#FBFB77" filter="url(#f5ydpcw2dc46u)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M553,6 L553,16 L563,16 L553,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399" x="149" y="23.0669">functions accepting 1 request and returning several responses</text><!--MD5=[d4cfe5976ab801dd2af2123e70ac96c7]
link Request to Solve--><path codeLine="16" d="M271.17,376.14 C286.81,391.98 302.56,407.93 316.02,421.55 " fill="none" id="Request-to-Solve" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="321.03,416.67,330.1,435.81,311.07,426.5,321.03,416.67" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[27e2fe36baf509925f8e9c2d94dc13f2]
link Response to Solve--><path codeLine="23" d="M476.32,334.13 C450.6,360.17 415.99,395.22 389.98,421.56 " fill="none" id="Response-to-Solve" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="394.83,426.61,375.79,435.92,384.86,416.77,394.83,426.61" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5a40a362cc4ccf4181f4f6dca942d09b]
reverse link Primitive to Request--><path codeLine="29" d="M318.93,162.03 C303.63,178.44 284.96,198.47 266.75,217.99 " fill="none" id="Primitive-backto-Request" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="322.34,158.37,313.2824,162.2379,318.9356,162.0319,319.1415,167.685,322.34,158.37" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="308.1662" y="177.8407">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="265.0879" y="207.0677">1</text><!--MD5=[67e7cbf5f67ad436d15f34be947dbc07]
link Primitive to Response--><path codeLine="31" d="M383.66,158.37 C409.65,186.25 447.02,226.32 474.74,256.05 " fill="none" id="Primitive-to-Response" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="478.41,259.98,475.1921,250.6717,474.9979,256.3252,469.3444,256.131,478.41,259.98" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="380.4088" y="177.8407">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="461.295" y="248.8868">N</text><!--MD5=[f20912766c10ce86aa6dd5d7ecb56aaf]
@startuml
abstract class Solve 

class Request<C : ExecutionContext> {
    + signature: Signature
    + arguments: List<Term>
    + context: C
    - -
    + replyWith(Solution): Response
    + replyWith(Solution, **SideEffectsBuilder.() -> Unit): Response
    ..
    + replySuccess(...): Response
    + replyFail(...): Response
    + replyException(...): Response
}

Request - -|> Solve 

class Response {
    + solution: Solution
    + sideEffects: List<SideEffect>
}

Response - -|> Solve 

interface Primitive<C : ExecutionContext> << (T,#3495eb) typealias >>  {
  **alias for:** (Request<C>) -> //Sequence//<Response>
}

Primitive "1" <.. "1" Request

Primitive "1" ..> "N" Response

note top of Primitive: functions accepting 1 request and returning several responses
@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>