<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="419px" preserveAspectRatio="none" style="width:727px;height:419px;" version="1.1" viewBox="0 0 727 419" width="727px" zoomAndPan="magnify"><defs><filter height="300%" id="f15za7n86r2m8j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[71a60e08c714b88e623cf93f13d49c3c]
class ExecutionContextAware--><rect codeLine="1" fill="#FEFECE" filter="url(#f15za7n86r2m8j)" height="188.8516" id="ExecutionContextAware" style="stroke:#A80036;stroke-width:1.5;" width="266" x="432" y="217"/><ellipse cx="488.75" cy="233" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M489.7031,229.7813 L491.4219,229.7813 C491.8125,229.7813 492,229.75 492.125,229.6719 C492.3906,229.5156 492.5313,229.2344 492.5313,228.9375 C492.5313,228.6719 492.4219,228.4063 492.1875,228.2344 C492.0156,228.125 491.875,228.0938 491.4219,228.0938 L486.2813,228.0938 C485.8438,228.0938 485.7188,228.1094 485.5625,228.2031 C485.3125,228.3594 485.1563,228.6563 485.1563,228.9375 C485.1563,229.2188 485.2969,229.4688 485.5156,229.6406 C485.6719,229.75 485.8594,229.7813 486.2813,229.7813 L488,229.7813 L488,236.2969 L486.2813,236.2969 C485.8438,236.2969 485.7188,236.3125 485.5625,236.4219 C485.3125,236.5781 485.1563,236.8594 485.1563,237.1563 C485.1563,237.4063 485.2969,237.6719 485.5156,237.8281 C485.6719,237.9531 485.875,238 486.2813,238 L491.4219,238 C492.1719,238 492.5313,237.7188 492.5313,237.1563 C492.5313,236.875 492.4219,236.625 492.1875,236.4531 C492.0156,236.3281 491.875,236.2969 491.4219,236.2969 L489.7031,236.2969 L489.7031,229.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="144" x="509.25" y="237.1543">ExecutionContextAware</text><line style="stroke:#A80036;stroke-width:1.5;" x1="433" x2="697" y1="249" y2="249"/><ellipse cx="443" cy="260" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="452" y="263.2104">libraries: Libraries</text><ellipse cx="443" cy="272.8047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="452" y="276.0151">flags: FlagStore</text><ellipse cx="443" cy="285.6094" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="452" y="288.8198">staticKb: Theory</text><ellipse cx="443" cy="298.4141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="452" y="301.6245">dynamicKb: Theory</text><ellipse cx="443" cy="311.2188" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="452" y="314.4292">operators: OperatorSet</text><ellipse cx="443" cy="324.0234" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="452" y="327.2339">inputChannels: InputStore</text><ellipse cx="443" cy="336.8281" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="165" x="452" y="340.0386">outputChannels: OutputStore</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="433" x2="697" y1="346.6328" y2="346.6328"/><ellipse cx="443" cy="357.6328" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="210" x="452" y="360.8433">standardInput: InputChannel&lt;String&gt;</text><ellipse cx="443" cy="370.4375" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="452" y="373.6479">standardOutput: OutputChannel&lt;String&gt;</text><ellipse cx="443" cy="383.2422" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="218" x="452" y="386.4526">standardError: OutputChannel&lt;String&gt;</text><ellipse cx="443" cy="396.0469" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="240" x="452" y="399.2573">warnings: OutputChannel&lt;PrologWarning&gt;</text><!--MD5=[7e0cc054e68485d8dbab588155cf841a]
class Solver--><rect codeLine="16" fill="#FEFECE" filter="url(#f15za7n86r2m8j)" height="99.2188" id="Solver" style="stroke:#A80036;stroke-width:1.5;" width="390" x="7" y="262"/><ellipse cx="179.25" cy="278" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180.2031,274.7813 L181.9219,274.7813 C182.3125,274.7813 182.5,274.75 182.625,274.6719 C182.8906,274.5156 183.0313,274.2344 183.0313,273.9375 C183.0313,273.6719 182.9219,273.4063 182.6875,273.2344 C182.5156,273.125 182.375,273.0938 181.9219,273.0938 L176.7813,273.0938 C176.3438,273.0938 176.2188,273.1094 176.0625,273.2031 C175.8125,273.3594 175.6563,273.6563 175.6563,273.9375 C175.6563,274.2188 175.7969,274.4688 176.0156,274.6406 C176.1719,274.75 176.3594,274.7813 176.7813,274.7813 L178.5,274.7813 L178.5,281.2969 L176.7813,281.2969 C176.3438,281.2969 176.2188,281.3125 176.0625,281.4219 C175.8125,281.5781 175.6563,281.8594 175.6563,282.1563 C175.6563,282.4063 175.7969,282.6719 176.0156,282.8281 C176.1719,282.9531 176.375,283 176.7813,283 L181.9219,283 C182.6719,283 183.0313,282.7188 183.0313,282.1563 C183.0313,281.875 182.9219,281.625 182.6875,281.4531 C182.5156,281.3281 182.375,281.2969 181.9219,281.2969 L180.2031,281.2969 L180.2031,274.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="37" x="199.75" y="282.1543">Solver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="396" y1="294" y2="294"/><ellipse cx="18" cy="305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="364" x="27" y="308.2104">solve(goal: Struct, options: SolveOptions): Sequence&lt;Solution&gt;</text><ellipse cx="18" cy="317.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="343" x="27" y="321.0151">solveList(goal: Struct, options: SolveOptions): List&lt;Solution&gt;</text><ellipse cx="18" cy="330.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="317" x="27" y="333.8198">solveOnce(goal: Struct, options: SolveOptions): Solution</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="8" x2="396" y1="340.4141" y2="340.4141"/><ellipse cx="18" cy="351.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="27" y="354.6245">clone(): Solver</text><!--MD5=[b8f9c9f402fdb0639661b25476f0741f]
class ExecutionContext--><rect codeLine="24" fill="#FEFECE" filter="url(#f15za7n86r2m8j)" height="150.4375" id="ExecutionContext" style="stroke:#A80036;stroke-width:1.5;" width="296" x="417" y="7"/><ellipse cx="507.25" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M508.2031,19.7813 L509.9219,19.7813 C510.3125,19.7813 510.5,19.75 510.625,19.6719 C510.8906,19.5156 511.0313,19.2344 511.0313,18.9375 C511.0313,18.6719 510.9219,18.4063 510.6875,18.2344 C510.5156,18.125 510.375,18.0938 509.9219,18.0938 L504.7813,18.0938 C504.3438,18.0938 504.2188,18.1094 504.0625,18.2031 C503.8125,18.3594 503.6563,18.6563 503.6563,18.9375 C503.6563,19.2188 503.7969,19.4688 504.0156,19.6406 C504.1719,19.75 504.3594,19.7813 504.7813,19.7813 L506.5,19.7813 L506.5,26.2969 L504.7813,26.2969 C504.3438,26.2969 504.2188,26.3125 504.0625,26.4219 C503.8125,26.5781 503.6563,26.8594 503.6563,27.1563 C503.6563,27.4063 503.7969,27.6719 504.0156,27.8281 C504.1719,27.9531 504.375,28 504.7813,28 L509.9219,28 C510.6719,28 511.0313,27.7188 511.0313,27.1563 C511.0313,26.875 510.9219,26.625 510.6875,26.4531 C510.5156,26.3281 510.375,26.2969 509.9219,26.2969 L508.2031,26.2969 L508.2031,19.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="107" x="527.75" y="27.1543">ExecutionContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="418" x2="712" y1="39" y2="39"/><ellipse cx="428" cy="50" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="437" y="53.2104">procedure: Struct?</text><ellipse cx="428" cy="62.8047" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="437" y="66.0151">substitution: Substitution.Unifier</text><ellipse cx="428" cy="75.6094" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="437" y="78.8198">prologStackTrace: List&lt;Struct&gt;</text><ellipse cx="428" cy="88.4141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="437" y="91.6245">customData: CustomDataStore</text><line style="stroke:#A80036;stroke-width:1.0;" x1="418" x2="712" y1="98.2188" y2="98.2188"/><ellipse cx="428" cy="109.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="437" y="112.4292">createSolver(...): Solver</text><ellipse cx="428" cy="122.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="225" x="437" y="125.2339">createMutableSolver(...): MutableSolver</text><ellipse cx="428" cy="134.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="165" x="437" y="138.0386">update(...): ExecutionContext</text><ellipse cx="428" cy="147.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="270" x="437" y="150.8433">apply(sideEffect: SideEffect): ExecutionContext</text><!--MD5=[9e5b0f1b810f6528d4b9cc432c673663]
link ExecutionContext to ExecutionContextAware--><path codeLine="36" d="M565,157.177 C565,169.835 565,183.239 565,196.646 " fill="none" id="ExecutionContext-to-ExecutionContextAware" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="572,196.897,565,216.897,558,196.897,572,196.897" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[60aa3810c3aaea966c52a83be9185163]
link Solver to ExecutionContextAware--><path codeLine="37" d="M397.325,311.5 C402.071,311.5 406.817,311.5 411.563,311.5 " fill="none" id="Solver-to-ExecutionContextAware" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="411.712,304.5,431.712,311.5,411.712,318.4999,411.712,304.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b988440137f5f822dd2da51228e77fdd]
@startuml
interface ExecutionContextAware {
    + libraries: Libraries
    + flags: FlagStore
    + staticKb: Theory
    + dynamicKb: Theory
    + operators: OperatorSet
    + inputChannels: InputStore
    + outputChannels: OutputStore
    ..
    + standardInput: InputChannel<String>
    + standardOutput: OutputChannel<String>
    + standardError: OutputChannel<String>
    + warnings: OutputChannel<PrologWarning>
}

interface Solver {
    + solve(goal: Struct, options: SolveOptions): Sequence<Solution>
    + solveList(goal: Struct, options: SolveOptions): List<Solution>
    + solveOnce(goal: Struct, options: SolveOptions): Solution
    ..
    + clone(): Solver
}

interface ExecutionContext {
    + procedure: Struct?
    + substitution: Substitution.Unifier
    + prologStackTrace: List<Struct>
    + customData: CustomDataStore
    - -
    + createSolver(...): Solver
    + createMutableSolver(...): MutableSolver
    + update(...): ExecutionContext
    + apply(sideEffect: SideEffect): ExecutionContext
}

ExecutionContext -down-|> ExecutionContextAware
Solver -right-|> ExecutionContextAware
@enduml

PlantUML version 1.2021.5beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>